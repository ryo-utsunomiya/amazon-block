!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=49)}([function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(58)),i=a(n(54)),o=a(n(42));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(42),o=(r=i,r&&r.__esModule?r:{default:r});t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(86),o=(r=i,r&&r.__esModule?r:{default:r});t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports={default:n(89),__esModule:!0}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(16),i=n(44),o=n(29),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(30)("wks"),i=n(19),o=n(6).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(77),i=n(32);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(8),i=n(18);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(6),i=n(5),o=n(45),a=n(13),u="prototype",s=function(e,t,n){var l,c,f,p=e&s.F,h=e&s.G,m=e&s.S,d=e&s.P,v=e&s.B,y=e&s.W,_=h?i:i[t]||(i[t]={}),g=_[u],b=h?r:m?r[t]:(r[t]||{})[u];h&&(n=t);for(l in n)(c=!p&&b&&void 0!==b[l])&&l in _||(f=c?b[l]:n[l],_[l]=h&&"function"!=typeof b[l]?n[l]:v&&c?o(f,r):y&&b[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(f):d&&"function"==typeof f?o(Function.call,f):f,d&&((_.virtual||(_.virtual={}))[l]=f,e&s.R&&g&&!g[l]&&a(g,l,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(12);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(39),i=n(24);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(6),i=n(5),o=n(27),a=n(22),u=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(8).f,i=n(9),o=n(10)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(16),i=n(78),o=n(24),a=n(31)("IE_PROTO"),u=function(){},s="prototype",l=function(){var e,t=n(43)("iframe"),r=o.length;for(t.style.display="none",n(73).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[s][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[s]=r(e),n=new u,u[s]=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(6),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(30)("keys"),i=n(19);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(51),__esModule:!0}},function(e,t,n){var r=n(20),i=n(18),o=n(11),a=n(29),u=n(9),s=n(44),l=Object.getOwnPropertyDescriptor;t.f=n(7)?l:function(e,t){if(e=o(e),t=a(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(39),i=n(24).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(9),i=n(11),o=n(76)(!1),a=n(31)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),s=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){e.exports=n(13)},function(e,t,n){"use strict";var r=n(27),i=n(14),o=n(40),a=n(13),u=n(9),s=n(26),l=n(79),c=n(23),f=n(47),p=n(10)("iterator"),h=!([].keys&&"next"in[].keys()),m="values",d=function(){return this};e.exports=function(e,t,n,v,y,_,g){l(n,t,v);var b,w,E,x=function(e){if(!h&&e in L)return L[e];switch(e){case"keys":case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",C=y==m,k=!1,L=e.prototype,O=L[p]||L["@@iterator"]||y&&L[y],M=!h&&O||x(y),I=y?C?x("entries"):M:void 0,T="Array"==t?L.entries||O:O;if(T&&(E=f(T.call(new e)))!==Object.prototype&&E.next&&(c(E,S,!0),r||u(E,p)||a(E,p,d)),C&&O&&O.name!==m&&(k=!0,M=function(){return O.call(this)}),r&&!g||!h&&!k&&L[p]||a(L,p,M),s[t]=M,s[S]=d,y)if(b={values:C?M:x(m),keys:_?M:x("keys"),entries:I},g)for(w in b)w in L||o(L,w,b[w]);else i(i.P+i.F*(h||k),t,b);return b}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(83)),i=a(n(68)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){var r=n(12),i=n(6).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(7)&&!n(15)(function(){return 7!=Object.defineProperty(n(43)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(87);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(14),i=n(5),o=n(15);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(9),i=n(33),o=n(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,u,s,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,s=0;s<a;s++)l[s].apply(this,u);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)};function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(3),a=n.n(o),u=n(2),s=n.n(u),l=n(1),c=n.n(l),f=n(0),p=n.n(f),h=n(48),m=n(34),d=n.n(m),v={wrapper:{textAlign:"center",padding:"10px"},pageNumber:{display:"inline-block",padding:"0 20px"}},y=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"render",value:function(){var e=this.props.params,t=e.itemsPerPage,n=e.startIndex,r=e.totalPages,i=(n-1)*t+1,o=n*t;return wp.element.createElement("div",{style:v.wrapper},wp.element.createElement("button",null,"Prev"),wp.element.createElement("span",{style:v.pageNumber},i," - ",o," / ",r),wp.element.createElement("button",null,"Next"))}}]),t}(React.Component),_=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"render",value:function(){var e=this.props,t=e.image,n=e.alt,r={minWidth:t.width,minHeight:t.height};return wp.element.createElement("img",{src:t.src,width:t.width,height:t.height,alt:n,style:r})}}]),t}(React.Component),g=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.title,r=e.content;return wp.element.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",title:n},r)}}]),t}(React.Component),b=window._amazonBlockVars,w=wp.i18n.__,E=b.noimage,x={listItem:{listStyleType:"none",borderBottom:"solid 1px #eee",padding:"10px 0",display:"flex",justifyContent:"space-between"},productBox:{width:"80%",display:"flex"},buttonBox:{width:"20%",display:"flex",alignItems:"flex-end"}},S=function(e){p()(t,e);function t(e){a()(this,t);var n=c()(this,(t.__proto__||i()(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return s()(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.items,r=t.event,i=e.target.dataset.index;r.emit("SET_ITEM",n[i])}},{key:"renderListItems",value:function(){var e=this;return this.props.items.map(function(t,n){var r=t.SmallImage||E.small;return wp.element.createElement("li",{style:x.listItem,key:n},wp.element.createElement("div",{style:x.productBox},wp.element.createElement("div",null,wp.element.createElement(g,{href:t.DetailPageURL,content:wp.element.createElement(_,{image:r,alt:t.Title})})),wp.element.createElement("div",null,wp.element.createElement(g,{href:t.DetailPageURL,content:t.Title}))),wp.element.createElement("div",{style:x.buttonBox},wp.element.createElement("button",{type:"button",onClick:e.handleClick,"data-index":n},w("Select"))))})}},{key:"render",value:function(){return 0===this.props.items.length?null:wp.element.createElement("ul",null,this.renderListItems())}}]),t}(React.Component),C=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.event;return t?wp.element.createElement("div",null,t.os&&wp.element.createElement(y,{params:t.os}),t.items&&wp.element.createElement(S,{items:t.items,event:n})):null}}]),t}(React.Component),k=wp.i18n.__,L=b.defaultCountryCode,O=b.countries,M=b.searchIndexes,I="All",T=function(e){p()(t,e);function t(e){a()(this,t);var n=c()(this,(t.__proto__||i()(t)).call(this,e));return n.state={keyword:"",countryCode:L,searchIndex:I,data:{}},n.handleCountryCodeChange=n.handleCountryCodeChange.bind(n),n.handleSearchIndexChange=n.handleSearchIndexChange.bind(n),n.handleKeywordChange=n.handleKeywordChange.bind(n),n.handleSearch=n.handleSearch.bind(n),n}return s()(t,[{key:"handleCountryCodeChange",value:function(e){this.setState({countryCode:e.target.value,searchIndex:I})}},{key:"handleSearchIndexChange",value:function(e){this.setState({searchIndex:e.target.value})}},{key:"handleKeywordChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"handleSearch",value:function(){var e=this;window.fetch(this.getSearchApiUrl()).then(function(e){return e.json()}).then(function(t){e.setState({data:t})}).catch(function(e){console.error(e)})}},{key:"getSearchApiUrl",value:function(){var e=this.state,t=e.keyword;return"/wp-admin/admin-ajax.php?action=amazonjs_search&CountryCode="+e.countryCode+"&SearchIndex="+e.searchIndex+"&ItemPage=1&Keywords="+t}},{key:"renderCountryOptions",value:function(e){return d()(O).map(function(t){var n=O[t];return wp.element.createElement("option",{key:t,value:t,selected:t===e.countryCode},n.label)})}},{key:"renderSearchIndexOptions",value:function(e){return d()(M).map(function(t){var n=M[t];if(n[e.countryCode])return wp.element.createElement("option",{key:t,value:t,selected:t===e.searchIndex},n.label)})}},{key:"render",value:function(){var e=this.props.event;return wp.element.createElement("div",null,wp.element.createElement("h2",null,k("Keyword Search")),wp.element.createElement("div",null,wp.element.createElement("select",{name:"countryCode",onChange:this.handleCountryCodeChange},this.renderCountryOptions(this.state)),wp.element.createElement("select",{name:"searchIndex",onChange:this.handleSearchIndexChange},this.renderSearchIndexOptions(this.state))),wp.element.createElement("input",{type:"text",name:"keyword",placeholder:k("Input Keyword"),value:this.state.keyword,onChange:this.handleKeywordChange,style:{width:"80%"}}),wp.element.createElement("input",{type:"submit",value:k("Search"),onClick:this.handleSearch}),wp.element.createElement("p",{style:{color:"red"}},this.state.data.error_message),wp.element.createElement(C,{data:this.state.data,event:e}))}}]),t}(React.Component),j=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"render",value:function(){var e=this.props.item;return wp.element.createElement("div",null,wp.element.createElement(g,{href:e.DetailPageURL,title:e.Title,content:e.Title}))}}]),t}(React.Component),A=b.noimage,P=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"getImage",value:function(){var e=this.props,t=e.size,n=e.item;switch(t){case"large":return n.LargeImage||A.large;case"small":return n.SmallImage||A.small;case"medium":default:return n.MediumImage||A.medium}}},{key:"render",value:function(){var e=this.props.item;return wp.element.createElement("div",null,wp.element.createElement(g,{href:e.DetailPageURL,title:e.Title,content:wp.element.createElement(_,{image:this.getImage(),alt:e.Title})}))}}]),t}(React.Component),R={TITLE:"TITLE",IMAGE_SMALL:"IMAGE_SMALL",IMAGE_MEDIUM:"IMAGE_MEDIUM",IMAGE_LARGE:"IMAGE_LARGE"},G=function(e){p()(t,e);function t(){return a()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))}return s()(t,[{key:"getImageSize",value:function(e){switch(e){case R.IMAGE_SMALL:return"small";case R.IMAGE_LARGE:return"large";case R.IMAGE_MEDIUM:default:return"medium"}}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.template;return n===R.TITLE?wp.element.createElement(j,{item:t}):wp.element.createElement(P,{item:t,size:this.getImageSize(n)})}}]),t}(React.Component),F=wp.i18n.__,N={label:{paddingRight:"10px"},buttonBox:{textAlign:"center"},button:{margin:"0 10px"}},D=function(e){p()(t,e);function t(e){a()(this,t);var n=c()(this,(t.__proto__||i()(t)).call(this,e));return n.state={template:R.IMAGE_MEDIUM},n.handleTemplateChange=n.handleTemplateChange.bind(n),n.handleCancelClick=n.handleCancelClick.bind(n),n.handleInsertClick=n.handleInsertClick.bind(n),n}return s()(t,[{key:"handleTemplateChange",value:function(e){this.setState({template:e.target.value})}},{key:"handleCancelClick",value:function(){this.props.event.emit("SET_ITEM",null)}},{key:"handleInsertClick",value:function(){this.props.event.emit("SET_TEMPLATE",this.state.template)}},{key:"render",value:function(){return wp.element.createElement("div",null,wp.element.createElement("h4",null,F("Select template")),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"template-type-title",style:N.label},wp.element.createElement("input",{type:"radio",name:"template",id:"template-type-title",value:R.TITLE,onClick:this.handleTemplateChange}),F("Title")),wp.element.createElement("label",{htmlFor:"template-type-image-small",style:N.label},wp.element.createElement("input",{type:"radio",name:"template",id:"template-type-image-small",value:R.IMAGE_SMALL,onClick:this.handleTemplateChange}),F("Small Image")),wp.element.createElement("label",{htmlFor:"template-type-image-medium",style:N.label},wp.element.createElement("input",{type:"radio",name:"template",id:"template-type-image-medium",value:R.IMAGE_MEDIUM,onClick:this.handleTemplateChange}),F("Medium Image")),wp.element.createElement("label",{htmlFor:"template-type-image-large",style:N.label},wp.element.createElement("input",{type:"radio",name:"template",id:"template-type-image-large",value:R.IMAGE_LARGE,onClick:this.handleTemplateChange}),F("Large Image"))),wp.element.createElement("div",null,wp.element.createElement("h5",null,"Preview"),wp.element.createElement(G,{item:this.props.item,template:this.state.template})),wp.element.createElement("div",{style:N.buttonBox},wp.element.createElement("button",{type:"button",onClick:this.handleCancelClick,style:N.button,className:"button"},F("Cancel")),wp.element.createElement("button",{type:"button",onClick:this.handleInsertClick,style:N.button,className:"button button-primary"},F("Insert"))))}}]),t}(React.Component),U=function(e){p()(t,e);function t(e){a()(this,t);var n=c()(this,(t.__proto__||i()(t)).call(this,e));return n.event=new h.EventEmitter,n}return s()(t,[{key:"componentDidMount",value:function(){var e=this;this.event.on("SET_ITEM",function(t){e.props.setAttributes({item:t})}),this.event.on("SET_TEMPLATE",function(t){e.props.setAttributes({template:t})})}},{key:"render",value:function(){var e=this.props.attributes,t=e.item,n=e.template;return t&&n?wp.element.createElement(G,{item:t,template:n}):t?wp.element.createElement(D,{item:t,event:this.event}):wp.element.createElement(T,{event:this.event})}}]),t}(React.Component),B={name:"amazon-block/amazon-block",title:(0,wp.i18n.__)("Amazon"),icon:"cart",category:"common",attributes:{item:{type:"object"},template:{type:"string"}},edit:function(e){var t=e.attributes,n=e.setAttributes;return wp.element.createElement(U,{attributes:t,setAttributes:n})},save:function(e){var t=e.attributes;return wp.element.createElement(U,{attributes:t})}};(0,wp.blocks.registerBlockType)(B.name,B)},function(e,t,n){var r=n(33),i=n(17);n(46)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(50),e.exports=n(5).Object.keys},function(e,t,n){var r=n(14);r(r.S,"Object",{create:n(25)})},function(e,t,n){n(52);var r=n(5).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){e.exports={default:n(53),__esModule:!0}},function(e,t,n){var r=n(12),i=n(16),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(45)(Function.call,n(35).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(14);r(r.S,"Object",{setPrototypeOf:n(55).set})},function(e,t,n){n(56),e.exports=n(5).Object.setPrototypeOf},function(e,t,n){e.exports={default:n(57),__esModule:!0}},function(e,t,n){n(21)("observable")},function(e,t,n){n(21)("asyncIterator")},function(e,t){},function(e,t,n){var r=n(11),i=n(36).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(38);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(17),i=n(37),o=n(20);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),s=o.f,l=0;u.length>l;)s.call(e,a=u[l++])&&t.push(a);return t}},function(e,t,n){var r=n(19)("meta"),i=n(12),o=n(9),a=n(8).f,u=0,s=Object.isExtensible||function(){return!0},l=!n(15)(function(){return s(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&s(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(7),a=n(14),u=n(40),s=n(65).KEY,l=n(15),c=n(30),f=n(23),p=n(19),h=n(10),m=n(22),d=n(21),v=n(64),y=n(63),_=n(16),g=n(12),b=n(11),w=n(29),E=n(18),x=n(25),S=n(62),C=n(35),k=n(8),L=n(17),O=C.f,M=k.f,I=S.f,T=r.Symbol,j=r.JSON,A=j&&j.stringify,P="prototype",R=h("_hidden"),G=h("toPrimitive"),F={}.propertyIsEnumerable,N=c("symbol-registry"),D=c("symbols"),U=c("op-symbols"),B=Object[P],z="function"==typeof T,K=r.QObject,V=!K||!K[P]||!K[P].findChild,W=o&&l(function(){return 7!=x(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(B,t);r&&delete B[t],M(e,t,n),r&&e!==B&&M(B,t,r)}:M,H=function(e){var t=D[e]=x(T[P]);return t._k=e,t},J=z&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},Y=function(e,t,n){return e===B&&Y(U,t,n),_(e),t=w(t,!0),_(n),i(D,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=x(n,{enumerable:E(0,!1)})):(i(e,R)||M(e,R,E(1,{})),e[R][t]=!0),W(e,t,n)):M(e,t,n)},q=function(e,t){_(e);for(var n,r=v(t=b(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},Q=function(e){var t=F.call(this,e=w(e,!0));return!(this===B&&i(D,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(D,e)||i(this,R)&&this[R][e])||t)},X=function(e,t){if(e=b(e),t=w(t,!0),e!==B||!i(D,t)||i(U,t)){var n=O(e,t);return!n||!i(D,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=I(b(e)),r=[],o=0;n.length>o;)i(D,t=n[o++])||t==R||t==s||r.push(t);return r},$=function(e){for(var t,n=e===B,r=I(n?U:b(e)),o=[],a=0;r.length>a;)!i(D,t=r[a++])||n&&!i(B,t)||o.push(D[t]);return o};z||(u((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(U,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),W(this,e,E(1,n))};return o&&V&&W(B,e,{configurable:!0,set:t}),H(e)})[P],"toString",function(){return this._k}),C.f=X,k.f=Y,n(36).f=S.f=Z,n(20).f=Q,n(37).f=$,o&&!n(27)&&u(B,"propertyIsEnumerable",Q,!0),m.f=function(e){return H(h(e))}),a(a.G+a.W+a.F*!z,{Symbol:T});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=L(h.store),re=0;ne.length>re;)d(ne[re++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=T(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?x(e):q(x(e),t)},defineProperty:Y,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),j&&a(a.S+a.F*(!z||l(function(){var e=T();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(g(t)||void 0!==e)&&!J(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,A.apply(j,r)}}),T[P][G]||n(13)(T[P],G,T[P].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(66),n(61),n(60),n(59),e.exports=n(5).Symbol},function(e,t,n){e.exports={default:n(67),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(70),i=n(69),o=n(26),a=n(11);e.exports=n(41)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(71);for(var r=n(6),i=n(13),o=n(26),a=n(10)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var l=u[s],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(28),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(28),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(11),i=n(75),o=n(74);e.exports=function(e){return function(t,n,a){var u,s=r(t),l=i(s.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(8),i=n(16),o=n(17);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){"use strict";var r=n(25),i=n(18),o=n(23),a={};n(13)(a,n(10)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(28),i=n(32);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),l=u.length;return s<0||s>=l?e?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(80)(!0);n(41)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(81),n(72),e.exports=n(22).f("iterator")},function(e,t,n){e.exports={default:n(82),__esModule:!0}},function(e,t,n){var r=n(14);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(e,t,n){n(84);var r=n(5).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={default:n(85),__esModule:!0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(33),i=n(47);n(46)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){n(88),e.exports=n(5).Object.getPrototypeOf}]);